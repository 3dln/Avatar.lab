 <!doctype html>
<html lang="en">

<head>
<meta charset="UTF-8">
<title>HTML5 Canvas Generative Art</title>
<script src="js/Gradient.js"></script>


<style type="text/css">
	body {background-color:#333333;} 
	p {font-family: sans-serif; color:#666666; font-size:14px;}
	#caption {position:absolute; width:1200px; text-align:center; top:600px; z-index:1}
	a {font-family: sans-serif; color:#d15423; text-decoration:none;}
	#displayCanvas {top:10px; z-index:0;background: none}
	#container {width:1200px; height:700px; margin:auto;}
</style>

</head>

<body>
<div id="container"> 
    <canvas id="displayCanvas" width="1200px" height="600px" style="position: absolute; z-index: 1; width:1200px; height:600px">
        Your browser does not support HTML5 canvas.
    </canvas>
    <p id="caption">
        Smooth linear gradients in HTML5 canvas through dithering. &nbsp;&nbsp; <a href="http://www.rectangleworld.com">rectangleworld.com</a>
    </p>
</div>
<script type="text/javascript">

//canvasLinear();
canvasRadial();

function canvasLinear() {
	
	var displayCanvas = document.getElementById("displayCanvas");
	var displayContext = displayCanvas.getContext("2d");
	var displayWidth = displayCanvas.width;
	var displayHeight = displayCanvas.height;
		
	init();
	
	function init() {
				
		//dithered gradient		
		var dgrad = new Grad.Linear(0,0,displayWidth,0);		
		dgrad.addColorStop(0,40,40,40, 255);
		dgrad.addColorStop(0.8,0,0,0,0);
		dgrad.addColorStop(1,30,15,5, 255);
		dgrad.fillRect( displayContext, 0,0,displayWidth,displayHeight/2-1);
		
		//comparison gradient
		var grad = displayContext.createLinearGradient(0,0,displayWidth,0);
		grad.addColorStop(0,"rgba(40,40,40, 255)");
		grad.addColorStop(0.8,"rgba(0,0,0,0)");
		grad.addColorStop(1, "rgba(30,15,5, 255)");
		displayContext.fillStyle = grad;
		displayContext.fillRect(0,displayHeight/2,displayWidth,displayHeight/2-1);


		//text
		displayContext.shadowColor = "rgba(0,0,0,0.6)";
		displayContext.shadowOffsetX = 6;
		displayContext.shadowOffsetY = 6;
		displayContext.shadowBlur = 4;
		
		displayContext.fillStyle = "rgba(255,255,255,0.33)";
		displayContext.font = 'bold italic 24px Helvetica, Arial, sans-serif';
		displayContext.fillText("dithered gradient", 50, 50);
		displayContext.fillText("standard gradient", 50 ,displayHeight/2 + 50);
		
		//reset shadow
		displayContext.shadowColor = "rgba(100,100,100,0)";
		displayContext.shadowOffsetX = 0;
		displayContext.shadowOffsetY = 0;
		displayContext.shadowBlur = 0;
		
	}
	
	
	
}


function canvasRadial() {
	
	var displayCanvas = document.getElementById("displayCanvas");
	var displayContext = displayCanvas.getContext("2d");
	var displayWidth = displayCanvas.width;
	var displayHeight = displayCanvas.height;
		
	init();
	
	function init() {
		var x0, y0, r0, g0, b0, r1, g1, b1, a0, a1;
		
		x0 = displayWidth*0.75;
		y0 = displayHeight/2*0.75;
		
		r0 = 0;
		g0 = 0;
		b0 = 0;
		a0 = 0;
		
		r1 = 40;
		g1 = 40;
		b1 = 40;
		a1 = 255;
		
		//dithered gradient	
		var outerRad = Math.sqrt(displayWidth*displayWidth + displayHeight*displayHeight)/2;
		var dgrad = new Grad.Radial(x0,y0,0,displayWidth/2,displayHeight/4,outerRad);		
		dgrad.addColorStop(0,r0,g0,b0, a0);
		dgrad.addColorStop(1,r1,g1,b1, a1);		
		dgrad.fillRect(displayContext,0,0,displayWidth,displayHeight/2-4);
		
		//comparison gradient
		var grad = displayContext.createRadialGradient(x0,y0+displayHeight/2,0,displayWidth/2,3*displayHeight/4,outerRad);
		grad.addColorStop(0,rgbToText(r0,g0,b0, a0));
		grad.addColorStop(1, rgbToText(r1,g1,b1, a1));
		displayContext.fillStyle = grad;
		displayContext.fillRect(0,displayHeight/2,displayWidth,displayHeight/2-4);
		
		//text
		displayContext.shadowColor = "rgba(0,0,0,0.6)";
		displayContext.shadowOffsetX = 6;
		displayContext.shadowOffsetY = 6;
		displayContext.shadowBlur = 4;
		
		displayContext.fillStyle = "rgba(255,255,255,1)";
		displayContext.font = 'bold italic 24px Helvetica, Arial, sans-serif';
		displayContext.fillText("dithered gradient", 50, 50);
		displayContext.fillText("standard gradient", 50 ,displayHeight/2 + 50);
		
		//reset shadow
		displayContext.shadowColor = "rgba(100,100,100,0)";
		displayContext.shadowOffsetX = 0;
		displayContext.shadowOffsetY = 0;
		displayContext.shadowBlur = 0;		
	}
	
	function rgbToText(_r,_g,_b, _a) {
		return "rgba(" + _r + "," + _g + "," + _b + "," + _a + ")";
	}
	
}

</script>


</body>
</html>